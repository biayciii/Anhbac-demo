/* ---------- DATA ---------- */
const users = [
  {
    username: "Dchou",
    password: "14082005",
    letters: [
      {
        title: "02062025: Gá»­i bÃ© nháº¥t Dchou",
        content: `Váº­y lÃ  cÅ©ng Ä‘Ã£ hÆ¡n 1 thÃ¡ng má»™t chÃºt xÃ­u chÃºng ta yÃªu nhau, Ä‘Ã¢y lÃ  láº§n Ä‘áº§u tiÃªn anh viáº¿t thÆ° cho em dÆ°á»›i hÃ¬nh thá»©c láº¡ hoáº¯c nÃ y.
CÃ³ láº½ khoáº£ng thá»i gian bÃªn em lÃ  lÃºc anh cáº£m tháº¥y vui váº» nháº¥t. Gáº§n Ä‘Ã¢y anh cÃ³ Ä‘Ã´i chÃºt má»‡t má»i vÃ¬ há»c táº­p vÃ  cÃ´ng viá»‡c, nhÆ°ng má»—i khi Ä‘Æ°á»£c nÃ³i chuyá»‡n hay gáº·p em, ná»¥ cÆ°á»i láº¡i hiá»‡n lÃªn trÃªn mÃ´i anh.
Em mang Ä‘áº¿n cho anh cáº£m giÃ¡c háº¡nh phÃºc vÃ  hÃ¡o há»©c, nhÆ° thá»ƒ má»i má»‡t má»i Ä‘á»u tan biáº¿n khi em xuáº¥t hiá»‡n.
Cáº£m Æ¡n em vÃ¬ Ä‘Ã£ Ä‘áº¿n bÃªn anh, Ä‘Ã£ mang Ä‘áº¿n cho anh má»™t tÃ¬nh yÃªu mÃ  anh luÃ´n khao khÃ¡t.
Anh mong ráº±ng mÃ¬nh sáº½ cÃ²n táº¡o ra nhiá»u Ä‘iá»u báº¥t ngá», nhiá»u niá»m vui hÆ¡n tháº¿ nÃ y dÃ nh cho ngÆ°á»i con gÃ¡i anh yÃªu nháº¥t. <3 

YÃªu vá»£ tÆ°Æ¡ng lai, Xbac cá»§a em <3`,
        code: "02062025"
      },
      {
        title: "02072025: ChÃ¢n thÃ nh cho em iu ğŸ’–",
        content: `Máº·c dÃ¹ anh khÃ´ng há» ngáº¡i ngÃ¹ng khi viáº¿t, nhÆ°ng vÃ¬ muá»‘n em rÃ¨n luyá»‡n báº£n thÃ¢n nÃªn anh sáº½ viáº¿t báº±ng tiáº¿ng Anh he :))).

I am very happy to open the source code to write you these sincere words. Another month has passed; we have memories, quarrels, joys, happiness, etc. But I am still the same â€“ still here, the one who holds you in his arms, listens to your stories and jokes.
Thank you for being with me, even though there were times when I accidentally forgot you. I am not a perfect person, but I will try to improve myself so that we can continue together in the following days, writing letters to each other and telling each other about what we have experienced in life and love.
Let me think about you :))). Love you forever <3`,
        code: "02072025"
      },
      {
  title: "22072025: This's love for DieuChou",
  content: `ÄÃ£ gáº§n má»™t thÃ¡ng, anh láº¡i viáº¿t ra nhá»¯ng dÃ²ng tÃ¢m tráº¡ng nÃ y. Khi anh viáº¿t xong vÃ  nhÃ¬n láº¡i tháº¥y sao thÆ° dÃ i hÆ¡n nhá»¯ng thÃ¡ng trÆ°á»›c váº­y, vÃ¬ láº¡i thÃªm má»™t thÃ¡ng trÃ´i qua, chÃºng ta láº¡i cÃ³ nhá»¯ng ká»‰ niá»‡m vÃ  cÃ³ cáº£ nhá»¯ng biáº¿n cá»‘. Nhá»› láº¡i nhá»¯ng ngÃ y thÃ¡ng Ä‘i chÆ¡i vá»›i em anh láº¡i tháº¥y ráº¥t vui vÃ¬ láº§n Ä‘áº§u anh Ä‘Æ°á»£c Ä‘i leo Ä‘á»“i, Ä‘Æ°á»£c ngáº¯m bÃ¬nh minh, Ä‘Æ°á»£c cÃ¹ng em tráº£i qua nhá»¯ng thÃ¡ng ngÃ y tÆ°Æ¡i Ä‘áº¹p Ä‘Ã³.
NhÆ°ng xen láº«n vÃ o Ä‘Ã³ lÃ  má»™t chÃºt há»‘i háº­n trong anh, anh Ä‘Ã£ má»™t láº§n ná»¯a lÃ m em tá»•n thÆ°Æ¡ng, lÃ m em Ä‘au thÃªm má»™t láº§n ná»¯a. LÃºc Ä‘áº¥y anh nhÆ° má»™t tháº±ng bÃ© hoáº£ng loáº¡n, chá»‰ biáº¿t nÃ³i lá»i xin lá»—i vÃ  Ã²a lÃªn khÃ³c. Anh tá»‡ mÃ  Ä‘Ãºng khÃ´ng em, anh khÃ´ng thá»ƒ biáº¿t sau nÃ y cÃ³ thá»ƒ cÃ¹ng em qua Ä‘Æ°á»£c 8 nÄƒm nhÆ° anh Ä‘Ã£ tá»«ng nÃ³i khÃ´ng.
NhÆ°ng náº¿u ngÃ y nÃ o cÃ²n yÃªu em, anh sáº½ yÃªu em cho Ä‘áº¿n khi em khÃ´ng cáº§n anh ná»¯a.
MÃ  em biáº¿t khÃ´ng, Ä‘Ã´i khi anh cÅ©ng ká»ƒ cho em lÃ  Ä‘i lÃ m anh chÃ¡n, má»™t pháº§n do Ä‘á»•i ca lÃ m vÃ  xá»­ lÃ­ nhiá»u Ä‘Æ¡n, mÃ  má»™t pháº§n quan trá»ng ná»¯a lÃ ... thiáº¿u em Ä‘áº¥y. ÄÃ´i khi anh cáº£m tháº¥y báº¥t lá»±c vÃ  má»i má»‡t, nhÆ°ng rá»“i gáº·p em, anh láº¡i cÃ³ thÃªm sá»©c sá»‘ng Ä‘á»ƒ cÃ³ thá»ƒ nÃ³i chuyá»‡n vá»›i nhau, cÆ°á»i cho nhau nghe nhá»¯ng cÃ¢u chuyá»‡n vÃ´ chi cá»§a chÃ­nh mÃ¬nh. NhÆ°ng khum sao, khi em Ä‘Ã£ Ä‘á»c Ä‘Æ°á»£c dÃ²ng thÆ° nÃ y, tÃ¢m tráº¡ng cá»§a anh cÅ©ng Ä‘Ã£ tá»‘t lÃªn rÃ¹i, nÃªn bÃ© Ä‘á»«ng lo cho anh nhÃ©.
Váº­y lÃ  chÃºng ta cÅ©ng Ä‘i Ä‘áº¿n nhá»¯ng ngÃ y cuá»‘i thÃ¡ng 7 rá»“i, gáº§n 3 thÃ¡ng bÃªn nhau â€” vui cÃ³, buá»“n cÃ³, tá»«ng sáº¯p tan vá»¡ cÅ©ng cÃ³ â€” nhÆ°ng rá»“i chÃºng ta váº«n Ä‘á»©ng Ä‘Ã¢y, váº«n á»Ÿ bÃªn nhau, cÃ¹ng nhau Ä‘Ã³n nháº­n nhá»¯ng mÃ u sáº¯c má»›i cá»§a nhiá»u ngÃ y thÃ¡ng sáº¯p tá»›i. Hy vá»ng ráº±ng Ä‘i quÃ¢n sá»±, anh sáº½ cÃ³ thá»ƒ gáº·p em nhiá»u hÆ¡n Ä‘á»ƒ cÃ³ thá»ƒ quan tÃ¢m Ä‘áº¿n sá»©c khá»e vÃ  Ä‘Æ°á»£c trÃ² chuyá»‡n vá»›i em nhiá»u hÆ¡n.
<3 u 4e,  
Dchou`,
  code: "22072025"
}

    ]
  }
];

/* ---------- GLOBAL ---------- */
let selectedLetter = null;

/* ---------- AUTH ---------- */
function login() {
  const user = users.find(
    u =>
      u.username === document.getElementById("username").value.trim() &&
      u.password === document.getElementById("password").value.trim()
  );

  if (user) {
    showLetters(user.letters);
    toggleScreen("login-screen", false);
    toggleScreen("letter-screen", true);
  } else {
    document.getElementById("login-msg").textContent = "Sai thÃ´ng tin Ä‘Äƒng nháº­p!";
  }
}

/* ---------- LETTER LIST ---------- */
function showLetters(letters) {
  const list = document.getElementById("letter-list");
  list.innerHTML = "";
  letters.forEach(letter => {
    const li = document.createElement("li");
    li.textContent = letter.title;
    li.onclick = () => {
      selectedLetter = letter;
      toggleScreen("letter-screen", false);
      toggleScreen("verify-screen", true);
    };
    list.appendChild(li);
  });
}

/* ---------- VERIFY CODE ---------- */
function verifyCode() {
  const codeInput = document.getElementById("verify-code").value.trim();

  if (selectedLetter && codeInput === selectedLetter.code) {
    toggleScreen("verify-screen", false);
    document.getElementById("letter-title").textContent = selectedLetter.title;
    document.getElementById("letter-body").textContent = selectedLetter.content;
    toggleScreen("letter-content-screen", true);
  } else {
    document.getElementById("verify-msg").textContent = "MÃ£ xÃ¡c nháº­n khÃ´ng Ä‘Ãºng!";
  }
}

/* ---------- BACK TO LETTER LIST ---------- */
function backToLetterList() {
  toggleScreen("letter-content-screen", false);
  toggleScreen("letter-screen", true);
}

/* ---------- HELPER ---------- */
function toggleScreen(id, show) {
  document.getElementById(id).style.display = show ? "block" : "none";
}
